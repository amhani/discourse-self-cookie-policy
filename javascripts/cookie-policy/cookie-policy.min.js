var cpNs=function(e){"use strict";function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function n(e){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?t(Object(o),!0).forEach((function(t){c(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):t(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,l(o.key),o)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var s=[{id:"essential",enableSwitcher:!1,content:{default:{title:"必要性",description:"这些Cookie是网站正常工作所必需的，不能在我们的系统中关闭。它们通常仅是为了响应您的服务请求而设置的，例如登录或填写表单。您可以将浏览器设置为阻止Cookie来拒绝这些Cookie，但网站的某些部分将无法正常工作。这些Cookie不存储任何个人身份信息。"},zh:{title:"必要性",description:"这些Cookie是网站正常工作所必需的，不能在我们的系统中关闭。它们通常仅是为了响应您的服务请求而设置的，例如登录或填写表单。您可以将浏览器设置为阻止Cookie来拒绝这些Cookie，但网站的某些部分将无法正常工作。这些Cookie不存储任何个人身份信息。"},ja:{title:"エッセンシャル",description:"移動、保護されている情報へのアクセス、動画再生、支払など、サイトの基本的な機能が有効になります。これらのクッキーが有効になっていない（お使いのブラウザの設定を変更することによってクッキーが無効化されている）場合、サイトは正しく表示されません。"}}},{id:"performance",enableSwitcher:!0,content:{default:{title:"表现性",description:"网站使用信息收集，例如哪些网页被频繁访问。"},zh:{title:"表现性",description:"网站使用信息收集，例如哪些网页被频繁访问。"},ja:{title:"パフォーマンス",description:"サイトの利用状況に関する情報を収集します。例として、どのページの訪問頻度が高いかのような情報です。"}}},{id:"functionality",enableSwitcher:!0,content:{default:{title:"功能性",description:"当你返回到我们网站时能识别您。这使得我们能个性化内容，欢迎您，记住您的偏好设置，以及帮助您分享网页到社交媒体。"},zh:{title:"功能性",description:"当你返回到我们网站时能识别您。这使得我们能个性化内容，欢迎您，记住您的偏好设置，以及帮助您分享网页到社交媒体。"},ja:{title:"機能性",description:"お客様がサイトを再訪問したときに、お客様であることを認識します。この設定では、お客様に合わせたコンテンツの表示、お客様のお名前を用いたあいさつメッセージの表示、お客様の傾向の記録を当社が行えるようになります。また、お客様がソーシャルネットワークでページをシェアできるようになります。"}}}],d={default:{notification:{title:"OpenFuyao社区重视您的隐私",body1:'我们在本网站上使用Cookie，包括第三方Cookie，以便网站正常运行和提升浏览体验。单击“全部接受”即表示您同意这些目的；单击“全部拒绝”即表示您拒绝非必要的Cookie；单击“管理Cookie”以选择接受或拒绝某些Cookie。需要了解更多信息或随时更改您的Cookie首选项，请参阅我们的<a href="https://openfuyao.test.osinfra.cn/zh/cookies">《关于cookies》</a>。',buttonAccept:"全部接受",buttonManage:"管理Cookie",rejectAll:"全部拒绝"},manager:{title:"管理Cookie",body1:"我们使用cookie来识别访问者和记住您的偏好设置",body2:"它们增强用户体验，使内容个性化，提供社交媒体功能，衡量活动效果和网站流量分析。",body3:"选择您同意授予我们和受信的第三方的追踪类型。",body4:'点击<a href="https://openfuyao.test.osinfra.cn/zh/cookies">《关于cookies》</a>了解更多。',acceptAll:"全部接受",acceptAllHelp:"这将把全部开关变为”开启“。",SavePreferences:"保存偏好设置",rejectAll:"全部拒绝"}},zh:{notification:{title:"OpenFuyao社区重视您的隐私",body1:'我们在本网站上使用Cookie，包括第三方Cookie，以便网站正常运行和提升浏览体验。单击“全部接受”即表示您同意这些目的；单击“全部拒绝”即表示您拒绝非必要的Cookie；单击“管理Cookie”以选择接受或拒绝某些Cookie。需要了解更多信息或随时更改您的Cookie首选项，请参阅我们的<a href="https://openfuyao.test.osinfra.cn/zh/cookies">《关于cookies》</a>。',buttonAccept:"全部接受",buttonManage:"管理Cookie",rejectAll:"全部拒绝"},manager:{title:"管理Cookie",body1:"我们使用cookie来识别访问者和记住您的偏好设置",body2:"它们增强用户体验，使内容个性化，提供社交媒体功能，衡量活动效果和网站流量分析。",body3:"选择您同意授予我们和受信的第三方的追踪类型。",body4:'点击<a href="https://openfuyao.test.osinfra.cn/zh/cookies">《关于cookies》</a>了解更多。',acceptAll:"全部接受",acceptAllHelp:"这将把全部开关变为”开启“。",SavePreferences:"保存偏好设置",rejectAll:"全部拒绝"}},ja:{notification:{title:"トラッキング機能の設定",body1:"当社は、当社のウェブサイトを訪問された方の識別や傾向の記録を行うために、クッキーおよび類似の手法を利用します。また、キャンペーンの効果の測定やサイトのトラフィックの分析にもクッキーを利用します。",body2:"「同意」を選択すると、当社および信頼できる第三者による上記の手法の利用に同意したものとみなされます。",body3:'詳細または同意の変更については、いつでも当社の<a href="https://ubuntu.com/legal/data-privacy?cp=hide#cookies">クッキーに関するポリシー</a>をご覧になることができます。',buttonAccept:"すべて同意してサイトにアクセス",buttonManage:"トラッキング機能の設定の管理"},manager:{title:"トラッキング機能の選択",body1:"当社は、当社のウェブサイトを訪問された方の識別や傾向の記録を行うために、クッキーを利用します。",body2:"クッキーは、お客様の利便性の向上、お客様に合わせたコンテンツや広告の表示、ソーシャルメディア機能の提供、キャンペーンの効果の測定、サイトのトラフィックの分析に役立ちます。",body3:"当社および第三者によるトラッキング機能のタイプから、お客様が同意されるものをお選びください。",body4:'詳細は、<a href="https://ubuntu.com/legal/data-privacy?cp=hide#cookies">データプライバシー：クッキーに関するポリシー</a>をご覧ください。お客様が選んだ設定は、本サイトの下部からいつでも変更できます。',acceptAll:"すべて同意",acceptAllHelp:"同意されるとすべての設定が「ON」に切り替わります。",SavePreferences:"設定を保存"}}},u={ad_storage:"denied",ad_user_data:"denied",ad_personalization:"denied",analytics_storage:"denied",functionality_storage:"denied",personalization_storage:"denied",security_storage:"denied"},p=["security_storage"],f=["ad_storage","ad_user_data","ad_personalization","analytics_storage"],h=["functionality_storage","personalization_storage"],y=["ad_storage","ad_user_data","ad_personalization","analytics_storage","functionality_storage","personalization_storage"],b=function(e){var t=new Date;t.setTime(t.getTime()+31536e6);var n="expires="+t.toUTCString();document.cookie="_cookies_accepted="+e+"; "+n+"; samesite=lax;path=/;",E(e)&&L()},g=function(){for(var e="_cookies_accepted=",t=document.cookie.split(";"),n="",o="",i=0;i<t.length;i++){for(var r=t[i];" "==r.charAt(0);)r=r.substring(1);o=r.substring(e.length,r.length),0===r.indexOf(e)&&"true"!==o&&(n=o)}return n},v=function(){var e=g();return!e||"true"==e},k=function(){return"hide"===new URLSearchParams(window.location.search).get("cp")},m=function(e){return d[e]?d[e]:d.default},w=function(e,t){return e.content[t]?e.content[t]:e.content.default},_=function(){var e=g();e&&j(e)},j=function(e){var t=C(u,e);S(t)},C=function(e,t){var o=n({},e);return p.forEach((function(e){o[e]="granted"})),"performance"===t?f.forEach((function(e){o[e]="granted"})):"functionality"===t?h.forEach((function(e){o[e]="granted"})):"all"===t&&y.forEach((function(e){o[e]="granted"})),o},S=function(e){window.gtag("consent","update",e)},L=function(){"object"===("undefined"==typeof dataLayer?"undefined":o(dataLayer))&&dataLayer.push({event:"pageview"})},E=function(e){return"all"==e||"performance"==e},O=function(){function e(t,n,o){i(this,e),this.container=t,this.renderManager=n,this.destroyComponent=o}return a(e,[{key:"getNotificationMarkup",value:function(e){var t=m(e);return'\n      <div class="p-modal" id="modal">\n        <div class="p-modal__dialog" role="dialog" aria-labelledby="cookie-policy-title" aria-describedby="cookie-policy-content">\n        <header class="p-modal__header">\n          <h2 class="p-modal__title" id="cookie-policy-title">'.concat(t.notification.title,'</h2>\n        </header>\n        <div id="cookie-policy-content">\n          <p>').concat(t.notification.body1,'</p>\n          <p class="u-no-margin--bottom">\n            <button class="p-button self-button js-close" id="cookie-policy-button-accept">').concat(t.notification.buttonAccept,'</button>\n            <button class="p-button self-button js-reject">').concat(t.notification.rejectAll,'</button>\n            <button class="p-button self-button js-manage">').concat(t.notification.buttonManage,"</button>\n          </p>\n        </div>\n      </div>")}},{key:"render",value:function(e){this.container.innerHTML=this.getNotificationMarkup(e),this.initaliseListeners()}},{key:"initaliseListeners",value:function(){var e=this;this.container.querySelector(".js-close").addEventListener("click",(function(t){b("all"),j("all"),e.destroyComponent()})),this.container.querySelector(".js-reject").addEventListener("click",(function(t){b("essential"),j("essential"),e.destroyComponent()})),this.container.querySelector(".js-manage").addEventListener("click",(function(t){e.renderManager()}))}}]),e}(),P=function(){function e(t,n,o){i(this,e),this.language=o,this.id=t.id,this.title=w(t,o).title,this.description=w(t,o).description,this.enableSwitcher=t.enableSwitcher,this.container=n,this.element,this.render()}return a(e,[{key:"render",value:function(){var e=this.cookieIsTrue(),t=document.createElement("div");t.classList.add("u-sv3"),t.innerHTML="\n      ".concat('<label class="u-float-right p-switch">\n          <input type="checkbox" class="p-switch__input js-'.concat(this.id,'-switch" ').concat((e||!this.enableSwitcher)&&'checked="" ',"\n            ").concat(!this.enableSwitcher&&'disabled="disabled"','>\n          <span class="p-switch__slider"></span>\n        </label>'),"\n      <h4>",this.title,"</h4>\n      <p>").concat(this.description,"</p>"),this.container.appendChild(t),this.element=t.querySelector(".js-".concat(this.id,"-switch"))}},{key:"cookieIsTrue",value:function(){var e=g();return!(!e||e!==this.id&&"all"!==e)||e&&e===this.id}},{key:"isChecked",value:function(){return!!this.element&&this.element.checked}},{key:"getId",value:function(){return this.id}}]),e}(),A=function(){function e(t,n){i(this,e),this.container=t,this.controlsStore=[],this.destroyComponent=n}return a(e,[{key:"getManagerMarkup",value:function(e){var t=m(e).manager;return'\n    <div class="p-modal" id="modal">\n    <div class="p-modal__dialog" role="dialog" aria-labelledby="modal-title" aria-describedby="modal-description">\n      <header class="p-modal__header">\n        <h2 class="p-modal__title" id="modal-title">'.concat(t.title,'</h2>\n      </header>\n      <p id="modal-description">').concat(t.body1,"</p>\n      <p>").concat(t.body2,"</p>\n      <p>").concat(t.body3,"</p>\n      <p>").concat(t.body4,'</p>\n      <p><button class="p-button self-button u-no-margin--bottom js-close">').concat(t.acceptAll,"</button></p>\n      <p>").concat(t.acceptAllHelp,'</p>\n      <hr />\n      <div class="controls"></div>\n      <button class="p-button self-button js-save-preferences">').concat(t.SavePreferences,"</button>\n    </div>\n  </div>")}},{key:"render",value:function(e){var t=this;this.container.innerHTML=this.getManagerMarkup(e);var n=this.container.querySelector(".controls");s.forEach((function(o){var i=new P(o,n,e);t.controlsStore.push(i)})),this.initaliseListeners()}},{key:"initaliseListeners",value:function(){var e=this;this.container.querySelector(".js-close").addEventListener("click",(function(){b("all"),j("all"),e.destroyComponent()})),this.container.querySelector(".js-save-preferences").addEventListener("click",(function(){e.savePreferences(),e.destroyComponent()}))}},{key:"savePreferences",value:function(){var e=this.controlsStore.filter((function(e){return e.isChecked()}));this.controlsStore.length===e.length?b("all"):this.controlsStore.forEach((function(e){e.isChecked()&&b(e.getId())})),function(e){var t=e.filter((function(e){return e.isChecked()})),o=n({},u);t.forEach((function(e){o=C(o,e.id)})),S(o)}(this.controlsStore)}}]),e}();window.gtag||(window.dataLayer=window.dataLayer||[],window.gtag=function(){dataLayer.push(arguments)},window.gtag("consent","default",u));return e.cookiePolicy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=null,n=document.documentElement.lang,o=!1,i=function(e){(e&&e.preventDefault(),null===t)&&((t=document.createElement("dialog")).classList.add("cookie-policy"),t.setAttribute("open",!0),document.body.appendChild(t),new O(t,r,a).render(n))},r=function(){new A(t,a).render(n)},a=function(){"function"==typeof e&&e(),document.body.removeChild(t),t=null},c=function(){if(!o){o=!0,_();var e=document.querySelector(".js-revoke-cookie-manager");e&&e.addEventListener("click",i),v()&&!k()&&i()}};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",c,!1):c()},e}({});
//# sourceMappingURL=cookie-policy.js.map
